<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle de Instalações - Fibra Óptica</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-broadcast-tower"></i> Controle de Instalações</h1>
            <p class="subtitle">Sistema de Gestão para Instalações de Fibra Óptica</p>
        </header>

        <div class="app-container">
            <!-- Painel de Controle -->
            <div class="control-panel">
                <div class="date-info">
                    <h2><i class="far fa-calendar-alt"></i> Controle Diário</h2>
                    <div class="current-date" id="currentDate"></div>
                </div>

                <!-- Formulário de Instalação -->
                <div class="form-section">
                    <h3><i class="fas fa-plus-circle"></i> Nova Instalação</h3>
                    <form id="installationForm">
                        <div class="form-group">
                            <label for="techName"><i class="fas fa-user"></i> Nome do Técnico:</label>
                            <input type="text" id="techName" required placeholder="Digite o nome do técnico">
                        </div>

                        <div class="form-group">
                            <label for="clientId"><i class="fas fa-id-card"></i> Matrícula do Cliente:</label>
                            <input type="text" id="clientId" pattern="\d{3,7}" 
                                   title="Digite 3 a 7 dígitos" required 
                                   placeholder="000 a 9999999">
                        </div>

                        <div class="form-group">
                            <label for="clientName"><i class="fas fa-user-tie"></i> Nome do Cliente:</label>
                            <input type="text" id="clientName" required placeholder="Nome completo do cliente">
                        </div>

                        <div class="form-group">
                            <label><i class="fas fa-gas-pump"></i> Abastecimento:</label>
                            <div class="fuel-section">
                                <div class="fuel-option">
                                    <input type="checkbox" id="fuelToday">
                                    <label for="fuelToday">Abastecimento Hoje</label>
                                </div>
                                <input type="number" id="fuelValue" placeholder="Valor (R$)" min="0" step="0.01">
                            </div>
                        </div>

                        <button type="submit" class="btn-submit">
                            <i class="fas fa-save"></i> Registrar Instalação
                        </button>
                    </form>
                </div>

                <!-- Resumo do Dia -->
                <div class="summary-section">
                    <h3><i class="fas fa-chart-bar"></i> Resumo do Dia</h3>
                    <div class="summary-cards">
                        <div class="summary-card">
                            <span class="card-title">Instalações Hoje</span>
                            <span class="card-value" id="todayCount">0</span>
                        </div>
                        <div class="summary-card">
                            <span class="card-title">Valor Total</span>
                            <span class="card-value" id="todayTotal">R$ 0,00</span>
                        </div>
                        <div class="summary-card">
                            <span class="card-title">Abastecimento</span>
                            <span class="card-value" id="fuelTotal">R$ 0,00</span>
                        </div>
                    </div>
                </div>

                <!-- Controles do Mês -->
                <div class="month-controls">
                    <h3><i class="fas fa-cogs"></i> Controles do Mês</h3>
                    <div class="buttons">
                        <button id="generateReport" class="btn-report">
                            <i class="fas fa-file-pdf"></i> Gerar PDF do Mês
                        </button>
                        <button id="newMonth" class="btn-new-month">
                            <i class="fas fa-calendar-plus"></i> Iniciar Novo Mês
                        </button>
                        <button id="viewHistory" class="btn-history">
                            <i class="fas fa-history"></i> Ver Histórico
                        </button>
                    </div>
                </div>
            </div>

            <!-- Lista de Instalações -->
            <div class="installations-list">
                <h3><i class="fas fa-list"></i> Instalações de Hoje</h3>
                <div class="table-container">
                    <table id="installationsTable">
                        <thead>
                            <tr>
                                <th>Técnico</th>
                                <th>Matrícula</th>
                                <th>Cliente</th>
                                <th>Valor</th>
                                <th>Abastecimento</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="installationsBody">
                            <!-- Dados serão inseridos via JavaScript -->
                        </tbody>
                    </table>
                </div>
                <div class="pricing-info">
                    <h4><i class="fas fa-money-bill-wave"></i> Tabela de Preços</h4>
                    <ul>
                        <li><strong>1 instalação:</strong> R$ 90,00</li>
                        <li><strong>2 instalações:</strong> R$ 100,00 cada (Total: R$ 200,00)</li>
                        <li><strong>3+ instalações:</strong> R$ 110,00 cada</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Modal para Histórico -->
        <div id="historyModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2><i class="fas fa-archive"></i> Histórico de Meses</h2>
                <div id="historyList"></div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <script src="script.js"></script>
</body>
</html>