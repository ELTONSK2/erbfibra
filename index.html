<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Installer PRO - Controle de Instala√ß√µes</title>
    <link rel="stylesheet" href="style.css">
    <!-- Biblioteca para gerar PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header com T√≠tulo e Abas -->
        <div class="header">
            <h1 class="main-title">üìä Installer PRO</h1>
            <p class="subtitle">Sistema completo para t√©cnicos de fibra √≥tica</p>
            
            <!-- Sistema de Abas -->
            <div class="tabs-container">
                <div class="tabs">
                    <button class="tab active" data-tab="dashboard">Dashboard</button>
                    <button class="tab" data-tab="instalacoes">Instala√ß√µes</button>
                    <button class="tab" data-tab="gasolina">Gasolina</button>
                    <button class="tab" data-tab="historico">Hist√≥rico</button>
                    <button class="tab" data-tab="config">Configura√ß√µes</button>
                </div>
            </div>
        </div>

        <!-- Info do T√©cnico -->
        <div class="tecnico-info">
            <div class="text-center">
                <small>T√©cnico ID:</small>
                <div class="tecnico-id" id="tecnicoInfo">Carregando...</div>
            </div>
        </div>

        <!-- ABA: DASHBOARD -->
        <div id="dashboard" class="tab-content active">
            <div class="dashboard-cards">
                <div class="card">
                    <div class="card-header">
                        <span>üìà</span>
                        <h3>Resumo do Dia</h3>
                    </div>
                    <div id="resumoDia" class="resumo-grid"></div>
                </div>

                <div class="cards-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üì¶</div>
                        <h4>Total Instala√ß√µes</h4>
                        <p id="cardTotal" class="stat-value">0</p>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">üí∞</div>
                        <h4>Ganhos do M√™s</h4>
                        <p id="cardGanhos" class="stat-value">R$ 0,00</p>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">‚õΩ</div>
                        <h4>Gastos Gasolina</h4>
                        <p id="cardGasolina" class="stat-value">R$ 0,00</p>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">üíµ</div>
                        <h4>Saldo Final</h4>
                        <p id="cardSaldo" class="stat-value">R$ 0,00</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>üìä</span>
                        <h3>Resumo Financeiro</h3>
                    </div>
                    <div id="totalMes"></div>
                </div>

                <div class="action-buttons">
                    <button onclick="controle.gerarPDFmes()" class="btn btn-primary">
                        <span>üìÑ</span>
                        Gerar PDF do M√™s
                    </button>
                    <button onclick="controle.exportarCSV()" class="btn btn-success">
                        <span>üìÅ</span>
                        Exportar CSV
                    </button>
                    <button onclick="controle.novoMes()" class="btn btn-danger">
                        <span>üîÑ</span>
                        Novo M√™s
                    </button>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>üë•</span>
                        <h3>Todos os T√©cnicos</h3>
                    </div>
                    <button onclick="controle.mostrarTodosTecnicos()" class="btn btn-info">
                        <span>üëÅÔ∏è</span>
                        Ver Todos os T√©cnicos
                    </button>
                    <div id="listaTecnicos" class="tecnicos-list"></div>
                </div>
            </div>
        </div>

        <!-- ABA: INSTALA√á√ïES -->
        <div id="instalacoes" class="tab-content">
            <div class="card">
                <div class="card-header">
                    <span>üìã</span>
                    <h3>Nova Instala√ß√£o</h3>
                </div>
                <form id="instalacaoForm">
                    <div class="form-group">
                        <label class="form-label">C√≥digo do Cliente (5 ou 7 d√≠gitos)</label>
                        <input type="text" id="codigo" class="form-input" placeholder="12345 ou 1234567" maxlength="7" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Nome do Cliente</label>
                        <input type="text" id="nome" class="form-input" placeholder="Nome completo do cliente" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Data da Instala√ß√£o</label>
                        <input type="date" id="data" class="form-input" required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block">
                        <span>‚ûï</span>
                        Adicionar Instala√ß√£o
                    </button>
                </form>
            </div>

            <div class="card">
                <div class="card-header">
                    <span>üìà</span>
                    <h3>Instala√ß√µes do M√™s</h3>
                </div>
                <div id="listaInstalacoes"></div>
            </div>
        </div>

        <!-- ABA: GASOLINA -->
        <div id="gasolina" class="tab-content">
            <div class="card">
                <div class="card-header">
                    <span>‚õΩ</span>
                    <h3>Controle de Gasolina</h3>
                </div>
                <form id="gasolinaForm">
                    <div class="form-group">
                        <label class="form-label">Data do Abastecimento</label>
                        <input type="date" id="dataGasolina" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Valor Abastecido (R$)</label>
                        <input type="number" id="valorGasolina" class="form-input" placeholder="50.00" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Observa√ß√£o (opcional)</label>
                        <input type="text" id="observacaoGasolina" class="form-input" placeholder="Posto, combust√≠vel, etc.">
                    </div>
                    <button type="submit" class="btn btn-warning btn-block">
                        <span>‚õΩ</span>
                        Adicionar Gasolina
                    </button>
                </form>
                
                <div class="total-gasolina">
                    <h4>Total Gasolina no M√™s: R$ <span id="totalGasolinaMes">0.00</span></h4>
                </div>
                
                <div id="listaGasolina" class="gasolina-list"></div>
            </div>
        </div>

        <!-- ABA: HIST√ìRICO -->
        <div id="historico" class="tab-content">
            <div class="card">
                <div class="card-header">
                    <span>üìú</span>
                    <h3>Hist√≥rico Completo</h3>
                </div>
                
                <div class="filtros-container">
                    <h4>Filtros:</h4>
                    <div class="filtros">
                        <button class="btn btn-small" onclick="controle.filtrar('hoje')">Hoje</button>
                        <button class="btn btn-small" onclick="controle.filtrar('mes')">Este M√™s</button>
                        <button class="btn btn-small" onclick="controle.filtrar('todos')">Todo Hist√≥rico</button>
                        <button class="btn btn-small" onclick="controle.filtrar('personalizado')">Personalizado</button>
                    </div>
                    
                    <div class="filtro-datas">
                        <div class="form-group">
                            <label>Data In√≠cio</label>
                            <input type="date" id="inicio" class="form-input">
                        </div>
                        <div class="form-group">
                            <label>Data Fim</label>
                            <input type="date" id="fim" class="form-input">
                        </div>
                    </div>
                </div>

                <div id="listaHistorico" class="historico-lista"></div>

                <div class="action-buttons">
                    <button onclick="controle.backupLocalStorage()" class="btn btn-info">
                        <span>üíæ</span>
                        Backup LocalStorage
                    </button>
                    <button onclick="controle.restaurarLocalStorage()" class="btn btn-warning">
                        <span>üîÑ</span>
                        Restaurar Backup
                    </button>
                </div>
            </div>
        </div>

        <!-- ABA: CONFIGURA√á√ïES -->
        <div id="config" class="tab-content">
            <div class="card">
                <div class="card-header">
                    <span>‚öôÔ∏è</span>
                    <h3>Configura√ß√µes</h3>
                </div>
                
                <div class="config-group">
                    <label class="form-label">Nome do T√©cnico</label>
                    <input type="text" id="nomeTecnico" class="form-input" placeholder="Seu nome">
                    <small>Altere automaticamente ao digitar</small>
                </div>

                <div class="config-group">
                    <label class="form-label">Valor Total da Gasolina (R$)</label>
                    <input type="number" id="valorGasolinaConfig" class="form-input" placeholder="0.00" step="0.01">
                    <small>Valor total gasto com gasolina</small>
                </div>

                <div class="info-box">
                    <h4>üìä Informa√ß√µes do Sistema</h4>
                    <p><strong>ID do T√©cnico:</strong> <span id="infoTecnicoId"></span></p>
                    <p><strong>Total de Instala√ß√µes:</strong> <span id="infoTotalInstalacoes">0</span></p>
                    <p><strong>Total em Gasolina:</strong> R$ <span id="infoTotalGasolina">0.00</span></p>
                    <p><strong>Saldo Dispon√≠vel:</strong> R$ <span id="infoSaldo">0.00</span></p>
                </div>
            </div>
        </div>

        <!-- MODAL R√ÅPIDO DE NOVA INSTALA√á√ÉO -->
        <button class="btn-floating" onclick="controle.abrirModalCadastroRapido()">
            <span>‚ûï</span>
        </button>
    </div>

    <!-- MODAL DE CADASTRO R√ÅPIDO -->
    <div id="modalCadastroRapido" class="modal hidden">
        <div class="modal-content">
            <h2>Nova Instala√ß√£o R√°pida</h2>
            
            <div class="form-group">
                <label>C√≥digo (5 ou 7 d√≠gitos):</label>
                <input type="text" id="codigoModal" class="form-input">
            </div>
            
            <div class="form-group">
                <label>Data:</label>
                <input type="date" id="dataModal" class="form-input">
            </div>

            <div class="modal-actions">
                <button class="btn btn-danger" onclick="controle.fecharModalCadastroRapido()">Cancelar</button>
                <button class="btn btn-primary" onclick="controle.salvarCadastroRapido()">Salvar</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>